<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥åº·é‹å‹•æŒ‡å°å£«ãƒ“ãƒ³ã‚´ã‚²ãƒ¼ãƒ </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
        }
        
        .cell-hover:hover {
            transform: scale(1.05);
        }
        
        .cell-completed {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
        }
        
        .cell-selected {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border-color: #60a5fa;
            box-shadow: 0 10px 25px rgba(96, 165, 250, 0.3);
            transform: scale(1.05);
        }
        
        .bingo-celebration {
            animation: bounce 0.6s ease-in-out;
        }
        
        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% {
                transform: translate3d(0,0,0);
            }
            40%, 43% {
                transform: translate3d(0, -30px, 0);
            }
            70% {
                transform: translate3d(0, -15px, 0);
            }
            90% {
                transform: translate3d(0, -4px, 0);
            }
        }
        
        .option-button {
            transition: all 0.2s ease;
        }
        
        .option-button:hover {
            background-color: #f3f4f6;
            border-color: #d1d5db;
        }
        
        .option-selected {
            border-color: #059669;
            background-color: #ecfdf5;
            color: #065f46;
        }
    </style>
</head>
<body>
    <div id="app" class="max-w-6xl mx-auto p-6 bg-gradient-to-br from-green-50 via-blue-50 to-teal-50 min-h-screen">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <div class="text-center mb-8">
            <div class="flex items-center justify-center gap-3 mb-4">
                <div class="p-3 bg-gradient-to-r from-green-600 to-teal-600 rounded-full">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 9V5a3 3 0 0 0-6 0v4"/>
                        <rect x="2" y="9" width="20" height="12" rx="2"/>
                        <circle cx="12" cy="15" r="2"/>
                    </svg>
                </div>
                <div>
                    <h1 class="text-3xl font-bold bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent">
                        å¥åº·é‹å‹•æŒ‡å°å£«ãƒ“ãƒ³ã‚´
                    </h1>
                    <p class="text-lg font-medium text-gray-700">å°‚é–€çŸ¥è­˜å­¦ç¿’ã‚²ãƒ¼ãƒ </p>
                </div>
            </div>
            <p class="text-gray-600">3ã¤æƒãˆã¦å¥åº·é‹å‹•ã®ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã‚’ç›®æŒ‡ãã†ï¼</p>
        </div>

        <!-- ã‚¹ã‚³ã‚¢è¡¨ç¤º -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
            <div class="bg-white/80 backdrop-blur-sm p-4 rounded-xl shadow-lg border border-white/20 text-center">
                <div id="score" class="text-2xl font-bold text-green-600">0</div>
                <div class="text-sm text-gray-600">æ­£è§£æ•°</div>
            </div>
            <div class="bg-white/80 backdrop-blur-sm p-4 rounded-xl shadow-lg border border-white/20 text-center">
                <div id="attempts" class="text-2xl font-bold text-blue-600">0</div>
                <div class="text-sm text-gray-600">æŒ‘æˆ¦æ•°</div>
            </div>
            <div class="bg-white/80 backdrop-blur-sm p-4 rounded-xl shadow-lg border border-white/20 text-center">
                <div id="bingo-lines" class="text-2xl font-bold text-teal-600">0</div>
                <div class="text-sm text-gray-600">ãƒ“ãƒ³ã‚´ãƒ©ã‚¤ãƒ³</div>
            </div>
            <div class="bg-white/80 backdrop-blur-sm p-4 rounded-xl shadow-lg border border-white/20 text-center">
                <div id="accuracy" class="text-2xl font-bold text-orange-600">0%</div>
                <div class="text-sm text-gray-600">æ­£ç­”ç‡</div>
            </div>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
            <!-- ãƒ“ãƒ³ã‚´ãƒœãƒ¼ãƒ‰ -->
            <div class="space-y-4">
                <div class="flex items-center justify-between">
                    <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="8" y1="21" x2="16" y2="21"/>
                            <line x1="12" y1="17" x2="12" y2="21"/>
                            <path d="M7 4V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v2"/>
                            <path d="M7 4h10l1 9H6l1-9Z"/>
                        </svg>
                        ãƒ“ãƒ³ã‚´ãƒœãƒ¼ãƒ‰
                    </h2>
                    <button id="new-game" class="flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-lg hover:from-green-600 hover:to-teal-600 transition-all duration-200 shadow-lg">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                            <path d="M3 3v5h5"/>
                        </svg>
                        æ–°ã—ã„ã‚²ãƒ¼ãƒ 
                    </button>
                </div>

                <div id="bingo-board" class="grid grid-cols-3 gap-3 bg-white/80 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-white/30">
                    <!-- ãƒ“ãƒ³ã‚´ã‚»ãƒ«ã¯JSã§ç”Ÿæˆ -->
                </div>

                <!-- ãƒ“ãƒ³ã‚´é”æˆè¡¨ç¤º -->
                <div id="bingo-celebration" class="hidden bg-gradient-to-r from-green-400 to-teal-500 text-white p-6 rounded-2xl shadow-xl text-center bingo-celebration">
                    <div class="flex items-center justify-center gap-3 mb-3">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="8" r="6"/>
                            <path d="M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"/>
                        </svg>
                        <h3 class="text-2xl font-bold">ğŸ‰ ãƒ“ãƒ³ã‚´é”æˆï¼ ğŸ‰</h3>
                    </div>
                    <p id="bingo-message" class="text-lg">ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼å¥åº·é‹å‹•æŒ‡å°å£«ã¨ã—ã¦ã®çŸ¥è­˜ã‚’ãƒã‚¹ã‚¿ãƒ¼ï¼</p>
                    <div class="mt-4">
                        <span id="final-accuracy" class="text-sm bg-white/20 px-3 py-1 rounded-full"></span>
                    </div>
                </div>
            </div>

            <!-- å•é¡Œã‚¨ãƒªã‚¢ -->
            <div id="question-area" class="space-y-4">
                <!-- å¾…æ©ŸçŠ¶æ…‹ -->
                <div id="waiting-state" class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 border border-white/30 text-center">
                    <div class="mb-4">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto text-green-500 mb-4">
                            <path d="M9 12l2 2 4-4"/>
                            <path d="M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9"/>
                            <path d="M16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4 1.79-4 4-4"/>
                        </svg>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">å•é¡Œã‚’é¸æŠã—ã¦ãã ã•ã„</h3>
                        <p class="text-gray-600">ãƒ“ãƒ³ã‚´ãƒœãƒ¼ãƒ‰ã®ãƒã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å¥åº·é‹å‹•æŒ‡å°å£«ã®çŸ¥è­˜ã«æŒ‘æˆ¦ã—ã‚ˆã†ï¼</p>
                    </div>
                    <div class="bg-gradient-to-r from-green-100 to-teal-100 rounded-lg p-4">
                        <p class="text-sm text-gray-700">ğŸ’¡ ãƒ’ãƒ³ãƒˆ: é‹å‹•ç”Ÿç†å­¦ã€è§£å‰–å­¦ã€æ „é¤Šå­¦ã€é‹å‹•å‡¦æ–¹ãªã©å¹…åºƒã„åˆ†é‡ã‹ã‚‰å‡ºé¡Œã•ã‚Œã¾ã™ï¼</p>
                    </div>
                </div>

                <!-- å•é¡Œè¡¨ç¤º -->
                <div id="question-state" class="hidden bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-6 border border-white/30">
                    <div class="mb-4">
                        <div id="question-tags" class="flex items-center gap-2 mb-3"></div>
                        <h3 id="question-title" class="text-lg font-bold text-gray-800 mb-4"></h3>
                        <p id="question-text" class="text-gray-700 mb-6"></p>
                    </div>
                    <div id="options-container" class="space-y-3"></div>
                    <button id="submit-answer" class="w-full mt-6 py-3 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:from-green-600 hover:to-teal-600 transition-all duration-200 flex items-center justify-center gap-2">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="13,2 3,14 12,14 11,22 21,10 12,10"/>
                        </svg>
                        å›ç­”ã™ã‚‹
                    </button>
                </div>

                <!-- çµæœè¡¨ç¤º -->
                <div id="result-state" class="hidden rounded-2xl shadow-xl p-6 border border-white/30">
                    <div id="result-content" class="p-6 rounded-xl text-center">
                        <div id="result-icon" class="flex items-center justify-center gap-2 mb-4"></div>
                        <div class="mb-4">
                            <p class="text-sm text-gray-600 mb-2">æ­£è§£ï¼š</p>
                            <p id="correct-answer" class="font-medium text-gray-800"></p>
                        </div>
                        <div id="explanation" class="mb-4 p-3 bg-blue-50 rounded-lg">
                            <p class="text-sm text-blue-800"></p>
                        </div>
                        <button id="next-question" class="px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200">
                            æ¬¡ã®å•é¡Œã¸
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å¥åº·é‹å‹•æŒ‡å°å£«ã®å•é¡Œãƒ‡ãƒ¼ã‚¿
        const allCards = [
            {
                id: 1,
                category: 'é‹å‹•ç”Ÿç†å­¦',
                question: '1åˆ†é–“ã®æœ€å¤§å¿ƒæ‹æ•°ã®æ¨å®šå¼ã§æœ€ã‚‚ä¸€èˆ¬çš„ãªã‚‚ã®ã¯ï¼Ÿ',
                answer: '220 - å¹´é½¢',
                options: [
                    '220 - å¹´é½¢',
                    '200 - å¹´é½¢',
                    '210 - å¹´é½¢',
                    '230 - å¹´é½¢'
                ],
                correctIndex: 0,
                difficulty: 'easy',
                explanation: 'ã‚«ãƒ«ãƒœãƒ¼ãƒãƒ³æ³•ã®åŸºç¤ã¨ãªã‚‹æœ€å¤§å¿ƒæ‹æ•°ã®æ¨å®šå¼ã§ã™ã€‚ãŸã ã—å€‹äººå·®ãŒã‚ã‚‹ã“ã¨ã‚‚é‡è¦ã§ã™ã€‚'
            },
            {
                id: 2,
                category: 'è§£å‰–å­¦ãƒ»é‹å‹•å­¦',
                question: 'å¤§è…¿å››é ­ç­‹ã‚’æ§‹æˆã™ã‚‹ç­‹è‚‰ã§æ­£ã—ããªã„ã‚‚ã®ã¯ï¼Ÿ',
                answer: 'å¤§è…¿äºŒé ­ç­‹',
                options: [
                    'å¤§è…¿ç›´ç­‹',
                    'å¤–å´åºƒç­‹',
                    'ä¸­é–“åºƒç­‹',
                    'å¤§è…¿äºŒé ­ç­‹'
                ],
                correctIndex: 3,
                difficulty: 'medium',
                explanation: 'å¤§è…¿å››é ­ç­‹ã¯å¤§è…¿ç›´ç­‹ã€å¤–å´åºƒç­‹ã€å†…å´åºƒç­‹ã€ä¸­é–“åºƒç­‹ã®4ã¤ã§æ§‹æˆã•ã‚Œã¾ã™ã€‚å¤§è…¿äºŒé ­ç­‹ã¯ãƒãƒ ã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ã®ä¸€éƒ¨ã§ã™ã€‚'
            },
            {
                id: 3,
                category: 'æ „é¤Šå­¦ãƒ»æ „é¤ŠæŒ‡å°',
                question: 'ç³–è³ª1gã‚ãŸã‚Šã®ã‚¨ãƒãƒ«ã‚®ãƒ¼é‡ã¯ï¼Ÿ',
                answer: '4kcal',
                options: [
                    '4kcal',
                    '7kcal',
                    '9kcal',
                    '2kcal'
                ],
                correctIndex: 0,
                difficulty: 'easy',
                explanation: 'ç³–è³ªã¨ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã¯1g=4kcalã€è„‚è³ªã¯1g=9kcalã€ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ã¯1g=7kcalã§ã™ã€‚'
            },
            {
                id: 4,
                category: 'é‹å‹•å‡¦æ–¹ãƒ»ãƒ—ãƒ­ã‚°ãƒ©ãƒ è¨­è¨ˆ',
                question: 'æœ‰é…¸ç´ é‹å‹•ã®å¼·åº¦ã‚’ç¤ºã™METsã§ã€é€Ÿæ­©ï¼ˆæ™‚é€Ÿ6kmï¼‰ã®å¼·åº¦ã¯ï¼Ÿ',
                answer: '4.0METs',
                options: [
                    '2.0METs',
                    '4.0METs',
                    '6.0METs',
                    '8.0METs'
                ],
                correctIndex: 1,
                difficulty: 'medium',
                explanation: 'é€Ÿæ­©ï¼ˆæ™‚é€Ÿ6km/hï¼‰ã¯4.0METsç›¸å½“ã§ã™ã€‚1METs=å®‰é™æ™‚ã®é…¸ç´ æ¶ˆè²»é‡ã§ã™ã€‚'
            },
            {
                id: 5,
                category: 'ç–¾ç—…äºˆé˜²ãƒ»å¥åº·ç®¡ç†',
                question: 'ãƒ¡ã‚¿ãƒœãƒªãƒƒã‚¯ã‚·ãƒ³ãƒ‰ãƒ­ãƒ¼ãƒ ã®è¨ºæ–­åŸºæº–ã§ã€ç”·æ€§ã®è…¹å›²ã®åŸºæº–å€¤ã¯ï¼Ÿ',
                answer: '85cmä»¥ä¸Š',
                options: [
                    '80cmä»¥ä¸Š',
                    '85cmä»¥ä¸Š',
                    '90cmä»¥ä¸Š',
                    '95cmä»¥ä¸Š'
                ],
                correctIndex: 1,
                difficulty: 'easy',
                explanation: 'æ—¥æœ¬ã®åŸºæº–ã§ã¯ç”·æ€§85cmä»¥ä¸Šã€å¥³æ€§90cmä»¥ä¸ŠãŒè…¹å›²ã®åŸºæº–å€¤ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚'
            },
            {
                id: 6,
                category: 'ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ç§‘å­¦',
                question: 'ç­‹åŠ›ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã®åŸç†ã§ã€Œéè² è·ã®åŸç†ã€ãŒç¤ºã™ã‚‚ã®ã¯ï¼Ÿ',
                answer: 'é€šå¸¸ã‚ˆã‚Šå¤§ããªè² è·ã‚’ã‹ã‘ã‚‹å¿…è¦æ€§',
                options: [
                    'æ¯æ—¥åŒã˜è² è·ã§è¡Œã†é‡è¦æ€§',
                    'é€šå¸¸ã‚ˆã‚Šå¤§ããªè² è·ã‚’ã‹ã‘ã‚‹å¿…è¦æ€§',
                    'è² è·ã‚’å¾ã€…ã«æ¸›ã‚‰ã—ã¦ã„ãæ–¹æ³•',
                    'ä¼‘æ¯ã‚’å¤šãå–ã‚‹é‡è¦æ€§'
                ],
                correctIndex: 1,
                difficulty: 'medium',
                explanation: 'éè² è·ã®åŸç†ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰åŸç†ï¼‰ã¯ã€ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°åŠ¹æœã‚’å¾—ã‚‹ãŸã‚ã«é€šå¸¸ã‚ˆã‚Šå¤§ããªè² è·ãŒå¿…è¦ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚'
            },
            {
                id: 7,
                category: 'å¿ƒç†å­¦ãƒ»è¡Œå‹•å¤‰å®¹',
                question: 'è¡Œå‹•å¤‰å®¹ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ¢ãƒ‡ãƒ«ã§ã€é‹å‹•ã‚’å®šæœŸçš„ã«è¡Œã£ã¦ã„ã‚‹æœŸé–“ãŒ6ãƒ¶æœˆæœªæº€ã®æ®µéšã¯ï¼Ÿ',
                answer: 'å®Ÿè¡ŒæœŸ',
                options: [
                    'å‰ç†Ÿè€ƒæœŸ',
                    'ç†Ÿè€ƒæœŸ',
                    'å®Ÿè¡ŒæœŸ',
                    'ç¶­æŒæœŸ'
                ],
                correctIndex: 2,
                difficulty: 'hard',
                explanation: 'å®Ÿè¡ŒæœŸã¯é‹å‹•ã‚’é–‹å§‹ã—ã¦ã‹ã‚‰6ãƒ¶æœˆæœªæº€ã®æœŸé–“ã§ã™ã€‚6ãƒ¶æœˆä»¥ä¸Šç¶™ç¶šã™ã‚‹ã¨ç¶­æŒæœŸã«ãªã‚Šã¾ã™ã€‚'
            },
            {
                id: 8,
                category: 'å®‰å…¨ç®¡ç†ãƒ»æ•‘æ€¥å‡¦ç½®',
                question: 'AEDã®ä½¿ç”¨æ‰‹é †ã§æœ€åˆã«è¡Œã†ã¹ãã“ã¨ã¯ï¼Ÿ',
                answer: 'æ„è­˜ã¨å‘¼å¸ã®ç¢ºèª',
                options: [
                    'AEDã®é›»æºã‚’å…¥ã‚Œã‚‹',
                    'æ„è­˜ã¨å‘¼å¸ã®ç¢ºèª',
                    'èƒ¸éª¨åœ§è¿«ã‚’é–‹å§‹ã™ã‚‹',
                    '119ç•ªé€šå ±ã‚’ã™ã‚‹'
                ],
                correctIndex: 1,
                difficulty: 'medium',
                explanation: 'ä¸€æ¬¡æ•‘å‘½å‡¦ç½®ã§ã¯ã€ã¾ãšæ„è­˜ã¨æ­£å¸¸ãªå‘¼å¸ã®ç¢ºèªã‚’è¡Œã„ã€å¿ƒåœæ­¢ã‚’åˆ¤æ–­ã—ã¾ã™ã€‚'
            },
            {
                id: 9,
                category: 'é‹å‹•ç”Ÿç†å­¦',
                question: 'ä¹³é…¸æ€§ä½œæ¥­é–¾å€¤ï¼ˆLTï¼‰ãŒç¤ºã™ã‚‚ã®ã¯ï¼Ÿ',
                answer: 'æœ‰é…¸ç´ é‹å‹•ã‹ã‚‰ç„¡é…¸ç´ é‹å‹•ã¸ã®ç§»è¡Œç‚¹',
                options: [
                    'æœ€å¤§é…¸ç´ æ‘‚å–é‡ã®å€¤',
                    'æœ‰é…¸ç´ é‹å‹•ã‹ã‚‰ç„¡é…¸ç´ é‹å‹•ã¸ã®ç§»è¡Œç‚¹',
                    'å¿ƒæ‹æ•°ã®æœ€å¤§å€¤',
                    'ç­‹åŠ›ã®æœ€å¤§ç™ºæ®ç‚¹'
                ],
                correctIndex: 1,
                difficulty: 'hard',
                explanation: 'LTã¯è¡€ä¸­ä¹³é…¸æ¿ƒåº¦ãŒæ€¥æ¿€ã«ä¸Šæ˜‡ã—å§‹ã‚ã‚‹é‹å‹•å¼·åº¦ã§ã€æœ‰é…¸ç´ é‹å‹•ã®ä¸Šé™ã®ç›®å®‰ã¨ãªã‚Šã¾ã™ã€‚'
            },
            {
                id: 10,
                category: 'è§£å‰–å­¦ãƒ»é‹å‹•å­¦',
                question: 'è‚©ç”²éª¨ã®å‹•ãã§ã€ŒæŒ™ä¸Šã€ã®åå¯¾ã®å‹•ãã¯ï¼Ÿ',
                answer: 'ä¸‹åˆ¶',
                options: [
                    'å†…è»¢',
                    'å¤–è»¢',
                    'ä¸‹åˆ¶',
                    'å›æ—‹'
                ],
                correctIndex: 2,
                difficulty: 'easy',
                explanation: 'è‚©ç”²éª¨ã®æŒ™ä¸Šï¼ˆä¸ŠãŒã‚‹å‹•ãï¼‰ã®åå¯¾ã¯ä¸‹åˆ¶ï¼ˆä¸‹ãŒã‚‹å‹•ãï¼‰ã§ã™ã€‚'
            },
            {
                id: 11,
                category: 'æ „é¤Šå­¦ãƒ»æ „é¤ŠæŒ‡å°',
                question: 'é‹å‹•å¾Œ30åˆ†ä»¥å†…ã®æ „é¤Šæ‘‚å–ã§é‡è¦ã¨ã•ã‚Œã‚‹ç³–è³ªã¨ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã®æ¯”ç‡ã¯ï¼Ÿ',
                answer: '3:1',
                options: [
                    '1:1',
                    '2:1',
                    '3:1',
                    '4:1'
                ],
                correctIndex: 2,
                difficulty: 'hard',
                explanation: 'é‹å‹•å¾Œã®ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚¿ã‚¤ãƒ ã§ã¯ç³–è³ª:ã‚¿ãƒ³ãƒ‘ã‚¯è³ª=3:1ã®æ¯”ç‡ãŒç­‹ã‚°ãƒªã‚³ãƒ¼ã‚²ãƒ³ã®å›å¾©ã¨ç­‹ã‚¿ãƒ³ãƒ‘ã‚¯è³ªåˆæˆã«åŠ¹æœçš„ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚'
            },
            {
                id: 12,
                category: 'é‹å‹•å‡¦æ–¹ãƒ»ãƒ—ãƒ­ã‚°ãƒ©ãƒ è¨­è¨ˆ',
                question: 'FITT-VPã®åŸå‰‡ã§ã€ŒTã€ãŒç¤ºã™ã‚‚ã®ã¯ï¼Ÿ',
                answer: 'Timeï¼ˆæ™‚é–“ï¼‰',
                options: [
                    'Typeï¼ˆç¨®é¡ï¼‰',
                    'Timeï¼ˆæ™‚é–“ï¼‰',
                    'Targetï¼ˆç›®æ¨™ï¼‰',
                    'Trainingï¼ˆãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ï¼‰'
                ],
                correctIndex: 1,
                difficulty: 'medium',
                explanation: 'FITT-VPã¯ Frequencyï¼ˆé »åº¦ï¼‰ã€Intensityï¼ˆå¼·åº¦ï¼‰ã€Timeï¼ˆæ™‚é–“ï¼‰ã€Typeï¼ˆç¨®é¡ï¼‰ã€Volumeï¼ˆé‡ï¼‰ã€Progressionï¼ˆé€²æ­©ï¼‰ã‚’è¡¨ã—ã¾ã™ã€‚'
            },
            {
                id: 13,
                category: 'ç–¾ç—…äºˆé˜²ãƒ»å¥åº·ç®¡ç†',
                question: 'é«˜è¡€åœ§ã®åŸºæº–å€¤ï¼ˆåç¸®æœŸè¡€åœ§ï¼‰ã¯ï¼Ÿ',
                answer: '140mmHgä»¥ä¸Š',
                options: [
                    '120mmHgä»¥ä¸Š',
                    '130mmHgä»¥ä¸Š',
                    '140mmHgä»¥ä¸Š',
                    '150mmHgä»¥ä¸Š'
                ],
                correctIndex: 2,
                difficulty: 'easy',
                explanation: 'é«˜è¡€åœ§ã®åŸºæº–ã¯åç¸®æœŸè¡€åœ§140mmHgä»¥ä¸Šã€ã¾ãŸã¯æ‹¡å¼µæœŸè¡€åœ§90mmHgä»¥ä¸Šã§ã™ã€‚'
            },
            {
                id: 14,
                category: 'ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ç§‘å­¦',
                question: 'ç­‹è‚¥å¤§ã‚’ç›®çš„ã¨ã—ãŸç­‹åŠ›ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã®é©åˆ‡ãªè² è·å¼·åº¦ã¯ï¼Ÿ',
                answer: '1RMã®70-85%',
                options: [
                    '1RMã®50-60%',
                    '1RMã®70-85%',
                    '1RMã®90-95%',
                    '1RMã®40-50%'
                ],
                correctIndex: 1,
                difficulty: 'medium',
                explanation: 'ç­‹è‚¥å¤§ã«ã¯1RMã®70-85%ã®è² è·ã§8-12å›ç¨‹åº¦ã®åå¾©ãŒåŠ¹æœçš„ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚'
            },
            {
                id: 15,
                category: 'å¿ƒç†å­¦ãƒ»è¡Œå‹•å¤‰å®¹',
                question: 'è‡ªå·±åŠ¹åŠ›æ„Ÿï¼ˆã‚»ãƒ«ãƒ•ã‚¨ãƒ•ã‚£ã‚«ã‚·ãƒ¼ï¼‰ã‚’é«˜ã‚ã‚‹æ–¹æ³•ã§æœ€ã‚‚åŠ¹æœçš„ã¨ã•ã‚Œã‚‹ã®ã¯ï¼Ÿ',
                answer: 'æˆåŠŸä½“é¨“ã‚’ç©ã‚€',
                options: [
                    'ä»–è€…ã®æˆåŠŸã‚’è¦³å¯Ÿã™ã‚‹',
                    'è¨€è‘‰ã«ã‚ˆã‚‹èª¬å¾—',
                    'æˆåŠŸä½“é¨“ã‚’ç©ã‚€',
                    'ç”Ÿç†çš„çŠ¶æ…‹ã®æ”¹å–„'
                ],
                correctIndex: 2,
                difficulty: 'hard',
                explanation: 'ãƒãƒ³ãƒ‡ãƒ¥ãƒ¼ãƒ©ã®è‡ªå·±åŠ¹åŠ›æ„Ÿç†è«–ã§ã¯ã€é‚è¡Œè¡Œå‹•ã®é”æˆï¼ˆæˆåŠŸä½“é¨“ï¼‰ãŒæœ€ã‚‚å¼·åŠ›ãªåŠ¹åŠ›æ„Ÿã®æºæ³‰ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚'
            }
        ];

        // ã‚²ãƒ¼ãƒ çŠ¶æ…‹
        let gameBoard = [];
        let currentCell = null;
        let completedCells = new Set();
        let bingoLines = [];
        let gameComplete = false;
        let selectedAnswer = null;
        let score = 0;
        let attempts = 0;

        // ãƒ“ãƒ³ã‚´ãƒ‘ã‚¿ãƒ¼ãƒ³
        const bingoPatterns = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8], // æ¨ª
            [0, 3, 6], [1, 4, 7], [2, 5, 8], // ç¸¦
            [0, 4, 8], [2, 4, 6] // æ–œã‚
        ];

        // ã‚«ãƒ†ã‚´ãƒªè‰²ã®å®šç¾©
        const getCategoryColor = (category) => {
            const colors = {
                'é‹å‹•ç”Ÿç†å­¦': 'bg-red-100 text-red-800',
                'è§£å‰–å­¦ãƒ»é‹å‹•å­¦': 'bg-blue-100 text-blue-800',
                'æ „é¤Šå­¦ãƒ»æ „é¤ŠæŒ‡å°': 'bg-green-100 text-green-800',
                'é‹å‹•å‡¦æ–¹ãƒ»ãƒ—ãƒ­ã‚°ãƒ©ãƒ è¨­è¨ˆ': 'bg-purple-100 text-purple-800',
                'ç–¾ç—…äºˆé˜²ãƒ»å¥åº·ç®¡ç†': 'bg-yellow-100 text-yellow-800',
                'ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ç§‘å­¦': 'bg-indigo-100 text-indigo-800',
                'å¿ƒç†å­¦ãƒ»è¡Œå‹•å¤‰å®¹': 'bg-pink-100 text-pink-800',
                'å®‰å…¨ç®¡ç†ãƒ»æ•‘æ€¥å‡¦ç½®': 'bg-orange-100 text-orange-800'
            };
            return colors[category] || 'bg-gray-100 text-gray-800';
        };

        // é›£æ˜“åº¦è‰²ã®å®šç¾©
        const getDifficultyColor = (difficulty) => {
            switch(difficulty) {
                case 'easy': return 'border-green-300 bg-green-50';
                case 'medium': return 'border-yellow-300 bg-yellow-50';
                case 'hard': return 'border-red-300 bg-red-50';
                default: return 'border-gray-300 bg-gray-50';
            }
        };

        // ã‚²ãƒ¼ãƒ åˆæœŸåŒ–
        function initializeGame() {
            gameBoard = [...allCards].sort(() => Math.random() - 0.5).slice(0, 9);
            completedCells = new Set();
            bingoLines = [];
            gameComplete = false;
            currentCell = null;
            selectedAnswer = null;
            score = 0;
            attempts = 0;
            
            updateScoreDisplay();
            renderBingoBoard();
            showWaitingState();
            document.getElementById('bingo-celebration').classList.add('hidden');
        }

        // ã‚¹ã‚³ã‚¢è¡¨ç¤ºæ›´æ–°
        function updateScoreDisplay() {
            document.getElementById('score').textContent = score;
            document.getElementById('attempts').textContent = attempts;
            document.getElementById('bingo-lines').textContent = bingoLines.length;
            const accuracy = attempts > 0 ? Math.round((score / attempts) * 100) : 0;
            document.getElementById('accuracy').textContent = accuracy + '%';
        }

        // ãƒ“ãƒ³ã‚´ãƒœãƒ¼ãƒ‰æç”»
        function renderBingoBoard() {
            const board = document.getElementById('bingo-board');
            board.innerHTML = '';
            
            gameBoard.forEach((card, index) => {
                const cell = document.createElement('div');
                const isCompleted = completedCells.has(index);
                const isSelected = currentCell === index;
                
                cell.className = `
                    aspect-square p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 cell-hover
                    ${isCompleted ? 'cell-completed' : 
                      isSelected ? 'cell-selected' : 
                      getDifficultyColor(card.difficulty)}
                `;
                
                if (isCompleted) {
                    cell.innerHTML = `
                        <div class="h-full flex flex-col items-center justify-center text-center">
                            <div class="space-y-2">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20,6 9,17 4,12"/>
                                </svg>
                                <div class="text-xs font-medium">æ­£è§£ï¼</div>
                            </div>
                        </div>
                    `;
                } else {
                    cell.innerHTML = `
                        <div class="h-full flex flex-col items-center justify-center text-center">
                            <div class="space-y-2">
                                <div class="text-xs px-2 py-1 rounded-full font-medium ${getCategoryColor(card.category)}">
                                    ${card.category}
                                </div>
                                <div class="text-xs text-gray-600 leading-tight">
                                    å•é¡Œ ${index + 1}
                                </div>
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto text-gray-500">
                                    <path d="M9 12l2 2 4-4"/>
                                    <path d="M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9"/>
                                </svg>
                            </div>
                        </div>
                    `;
                }
                
                cell.addEventListener('click', () => handleCellClick(index));
                board.appendChild(cell);
            });
        }

        // ã‚»ãƒ«ã‚¯ãƒªãƒƒã‚¯å‡¦ç†
        function handleCellClick(index) {
            if (completedCells.has(index) || currentCell !== null) return;
            
            currentCell = index;
            selectedAnswer = null;
            renderBingoBoard();
            showQuestionState();
        }

        // å¾…æ©ŸçŠ¶æ…‹è¡¨ç¤º
        function showWaitingState() {
            document.getElementById('waiting-state').classList.remove('hidden');
            document.getElementById('question-state').classList.add('hidden');
            document.getElementById('result-state').classList.add('hidden');
        }

        // å•é¡ŒçŠ¶æ…‹è¡¨ç¤º
        function showQuestionState() {
            if (currentCell === null) return;
            
            const card = gameBoard[currentCell];
            
            // ã‚¿ã‚°è¡¨ç¤º
            const tagsContainer = document.getElementById('question-tags');
            tagsContainer.innerHTML = `
                <span class="px-3 py-1 rounded-full text-xs font-medium ${getCategoryColor(card.category)}">
                    ${card.category}
                </span>
                <span class="px-3 py-1 rounded-full text-xs font-medium ${
                    card.difficulty === 'easy' ? 'bg-green-100 text-green-800' :
                    card.difficulty === 'medium' ? 'bg-yellow-100 text-yellow-800' :
                    'bg-red-100 text-red-800'
                }">
                    ${card.difficulty === 'easy' ? 'åŸºæœ¬' :
                      card.difficulty === 'medium' ? 'æ¨™æº–' : 'ä¸Šç´š'}
                </span>
            `;
            
            // å•é¡Œè¡¨ç¤º
            document.getElementById('question-title').textContent = `å•é¡Œ ${currentCell + 1}`;
            document.getElementById('question-text').textContent = card.question;
            
            // é¸æŠè‚¢è¡¨ç¤º
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            card.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'w-full p-4 text-left rounded-lg border-2 option-button border-gray-200 bg-gray-50';
                button.innerHTML = `
                    <div class="flex items-center gap-3">
                        <span class="w-6 h-6 rounded-full border-2 border-gray-300 flex items-center justify-center text-sm font-bold">
                            ${String.fromCharCode(65 + index)}
                        </span>
                        ${option}
                    </div>
                `;
                
                button.addEventListener('click', () => handleAnswerSelect(index, button));
                optionsContainer.appendChild(button);
            });
            
            // å›ç­”ãƒœã‚¿ãƒ³
            const submitButton = document.getElementById('submit-answer');
            submitButton.disabled = true;
            submitButton.addEventListener('click', submitAnswer);
            
            document.getElementById('waiting-state').classList.add('hidden');
            document.getElementById('question-state').classList.remove('hidden');
            document.getElementById('result-state').classList.add('hidden');
        }

        // å›ç­”é¸æŠå‡¦ç†
        function handleAnswerSelect(answerIndex, buttonElement) {
            selectedAnswer = answerIndex;
            
            // å…¨ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«ãƒªã‚»ãƒƒãƒˆ
            document.querySelectorAll('.option-button').forEach(btn => {
                btn.className = 'w-full p-4 text-left rounded-lg border-2 option-button border-gray-200 bg-gray-50';
                const circle = btn.querySelector('span');
                circle.className = 'w-6 h-6 rounded-full border-2 border-gray-300 flex items-center justify-center text-sm font-bold';
            });
            
            // é¸æŠã•ã‚ŒãŸãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›´
            buttonElement.className = 'w-full p-4 text-left rounded-lg border-2 option-button option-selected';
            const circle = buttonElement.querySelector('span');
            circle.className = 'w-6 h-6 rounded-full border-2 border-green-500 bg-green-500 text-white flex items-center justify-center text-sm font-bold';
            
            document.getElementById('submit-answer').disabled = false;
        }

        // å›ç­”æå‡ºå‡¦ç†
        function submitAnswer() {
            if (selectedAnswer === null || currentCell === null) return;
            
            const card = gameBoard[currentCell];
            const correct = selectedAnswer === card.correctIndex;
            attempts++;
            
            if (correct) {
                score++;
                completedCells.add(currentCell);
            }
            
            updateScoreDisplay();
            checkBingo();
            showResultState(correct, card.answer, card.explanation);
        }

        // çµæœçŠ¶æ…‹è¡¨ç¤º
        function showResultState(isCorrect, correctAnswer, explanation) {
            const resultContent = document.getElementById('result-content');
            const resultIcon = document.getElementById('result-icon');
            const explanationDiv = document.getElementById('explanation');
            
            if (isCorrect) {
                resultContent.className = 'p-6 rounded-xl text-center bg-green-100 border-2 border-green-300';
                resultIcon.innerHTML = `
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-600">
                        <polyline points="20,6 9,17 4,12"/>
                    </svg>
                    <h4 class="text-xl font-bold text-green-800">æ­£è§£ï¼</h4>
                `;
            } else {
                resultContent.className = 'p-6 rounded-xl text-center bg-red-100 border-2 border-red-300';
                resultIcon.innerHTML = `
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-600">
                        <path d="M18 6 6 18"/>
                        <path d="m6 6 12 12"/>
                    </svg>
                    <h4 class="text-xl font-bold text-red-800">ä¸æ­£è§£</h4>
                `;
            }
            
            document.getElementById('correct-answer').textContent = correctAnswer;
            explanationDiv.querySelector('p').textContent = explanation;
            document.getElementById('next-question').addEventListener('click', nextQuestion);
            
            document.getElementById('waiting-state').classList.add('hidden');
            document.getElementById('question-state').classList.add('hidden');
            document.getElementById('result-state').classList.remove('hidden');
        }

        // æ¬¡ã®å•é¡Œã¸
        function nextQuestion() {
            currentCell = null;
            selectedAnswer = null;
            renderBingoBoard();
            showWaitingState();
        }

        // ãƒ“ãƒ³ã‚´ãƒã‚§ãƒƒã‚¯
        function checkBingo() {
            const newBingoLines = [];
            bingoPatterns.forEach((pattern, index) => {
                if (pattern.every(cell => completedCells.has(cell))) {
                    newBingoLines.push(index);
                }
            });
            
            bingoLines = newBingoLines;
            updateScoreDisplay();
            
            if (bingoLines.length > 0 && !gameComplete) {
                gameComplete = true;
                showBingoCelebration();
            }
        }

        // ãƒ“ãƒ³ã‚´é”æˆè¡¨ç¤º
        function showBingoCelebration() {
            const celebration = document.getElementById('bingo-celebration');
            const message = document.getElementById('bingo-message');
            const finalAccuracy = document.getElementById('final-accuracy');
            
            message.textContent = `ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼${bingoLines.length}ãƒ©ã‚¤ãƒ³å®Œæˆï¼å¥åº·é‹å‹•æŒ‡å°å£«ã¨ã—ã¦ç´ æ™´ã‚‰ã—ã„çŸ¥è­˜ã§ã™ï¼`;
            finalAccuracy.textContent = `æ­£ç­”ç‡: ${Math.round((score / attempts) * 100)}%`;
            
            celebration.classList.remove('hidden');
        }

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
        document.getElementById('new-game').addEventListener('click', initializeGame);

        // ã‚²ãƒ¼ãƒ é–‹å§‹
        initializeGame();
    </script>
</body>
</html>